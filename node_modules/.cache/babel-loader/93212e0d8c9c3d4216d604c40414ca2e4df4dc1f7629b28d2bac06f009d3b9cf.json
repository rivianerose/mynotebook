{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Riviane/Desktop/projectpt/Course-React-PT/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/Riviane/Desktop/projectpt/Course-React-PT/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Riviane/Desktop/projectpt/Course-React-PT/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Riviane/Desktop/projectpt/Course-React-PT/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{getDocs,collection}from'firebase/firestore';import{db}from'../config/firebase';import{useEffect,useState}from'react';import{Post}from'../main/post';import{jsx as _jsx}from\"react/jsx-runtime\";export var Main=function Main(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),postsList=_useState2[0],setPostsList=_useState2[1];var postsRef=collection(db,\"posts\");var getPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(postsRef);case 2:data=_context.sent;setPostsList(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));case 4:case\"end\":return _context.stop();}},_callee);}));return function getPosts(){return _ref.apply(this,arguments);};}();useEffect(function(){getPosts();},[]);return/*#__PURE__*/_jsx(\"div\",{children:postsList===null||postsList===void 0?void 0:postsList.map(function(post){return/*#__PURE__*/_jsx(Post,{post:post});})});};","map":{"version":3,"names":["getDocs","collection","db","useEffect","useState","Post","jsx","_jsx","Main","_useState","_useState2","_slicedToArray","postsList","setPostsList","postsRef","getPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","sent","docs","map","doc","_objectSpread","id","stop","apply","arguments","children","post"],"sources":["C:/Users/Riviane/Desktop/projectpt/Course-React-PT/src/main/main.tsx"],"sourcesContent":["import { getDocs, collection } from 'firebase/firestore'\r\nimport { db } from '../config/firebase';\r\nimport { useEffect, useState } from 'react';\r\nimport { async } from '@firebase/util';\r\nimport { Post } from '../main/post'\r\n\r\nexport interface Post {\r\n    id: string;\r\n    userId: string;\r\n    title: string;\r\n    username: string; \r\n    description: string;\r\n}\r\n\r\nexport const Main = () => {\r\n\r\n    const [postsList, setPostsList] = useState< Post[] | null >(null);\r\n    const postsRef = collection(db, \"posts\");\r\n\r\n    const getPosts = async () => {\r\n        const data = await getDocs(postsRef);\r\n        setPostsList(data.docs.map((doc) =>({...doc.data(), id: doc.id })) as Post[])\r\n    };\r\n\r\n   useEffect(() => {\r\n    getPosts();\r\n   }, []);\r\n   \r\n   \r\n    return <div>\r\n       {postsList?.map((post) => (<Post post={post} />  ))}\r\n    </div>\r\n}"],"mappings":"+iBAAA,OAASA,OAAO,CAAEC,UAAU,KAAQ,oBAAoB,CACxD,OAASC,EAAE,KAAQ,oBAAoB,CACvC,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,OAASC,IAAI,KAAQ,cAAc,QAAAC,GAAA,IAAAC,IAAA,yBAUnC,MAAO,IAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CAEtB,IAAAC,SAAA,CAAkCL,QAAQ,CAAkB,IAAI,CAAC,CAAAM,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1DG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,GAAM,CAAAI,QAAQ,CAAGb,UAAU,CAACC,EAAE,CAAE,OAAO,CAAC,CAExC,GAAM,CAAAa,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACM,CAAA1B,OAAO,CAACc,QAAQ,CAAC,QAA9BO,IAAI,CAAAG,QAAA,CAAAG,IAAA,CACVd,YAAY,CAACQ,IAAI,CAACO,IAAI,CAACC,GAAG,CAAC,SAACC,GAAG,SAAAC,aAAA,CAAAA,aAAA,IAASD,GAAG,CAACT,IAAI,EAAE,MAAEW,EAAE,CAAEF,GAAG,CAACE,EAAE,IAAG,CAAC,CAAW,yBAAAR,QAAA,CAAAS,IAAA,MAAAb,OAAA,GAChF,kBAHK,CAAAL,QAAQA,CAAA,SAAAC,IAAA,CAAAkB,KAAA,MAAAC,SAAA,OAGb,CAEFhC,SAAS,CAAC,UAAM,CACfY,QAAQ,EAAE,CACX,CAAC,CAAE,EAAE,CAAC,CAGL,mBAAOR,IAAA,QAAA6B,QAAA,CACHxB,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAEiB,GAAG,CAAC,SAACQ,IAAI,qBAAM9B,IAAA,CAACF,IAAI,EAACgC,IAAI,CAAEA,IAAK,EAAG,EAAG,CAAC,EAChD,CACV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}